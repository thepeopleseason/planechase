<html>
<head>
<title>Planechase</title>
<link rel="stylesheet"  href="planechase.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
<script src="planechase.js"></script>
<script type="text/javascript">

function load(plane) {
  $("#plane").html('<a href="#" onclick="walk(\''+plane+'\');"><img src="images/' +
                   plane + '" height="80%"></a>');

  eternity.planes.splice(eternity.planes.indexOf(plane), 1);
}

function get_help() {
  return 'An implementation of Magic The Gathering\'s Planescape';
}

$(document).ready(function () {
  $(document).keydown(function(e) {
    switch(e.which) {
    case 13:
    case 82:
      // ENTER/R: Roll planar die
      roll();
      break;
    case 32:
      // SPACE: Reset planar die mana cost
      reset_cost();
      break;
    case 39:
      // R-ARROW: Just planeswalk
      walk();
      break;
    case 67:
    case 107:
    case 187:
      // C/=/+: Add counter
      var plane = $("#plane > a")
      if ((plane.size() == 1) && (/add_counter/.test(plane.prop('onclick').toString()))) {
        plane.prop('onclick')();
      }
      break;
    }
  });

  walk(pick(eternity.planes));
});

</script>
</head>
<body style="text-align: center;">
<div id="toolbar">
<div style="float: left;">
    <input type="button" value="Roll Planar Die" id="dice_button"
           onclick="roll();" class="myButton">
    <div style="float: right; padding: 0 5px 0 5px;">Mana Cost:
    <input type="button" id="cost_button" value="0" class="infobutton myButton" onclick="reset_cost()">
    </div>
</div>
<div style="float: left; padding: 0 5px 0 5px;">Planar Counters:
    <input id="count_button" type="button" value="---" class="infoButton myButton" style="float: right;" disabled>
</div>
<div id="help">
    <a onclick="help();">What's This?</a></div>
</div>

<div id="plane" style="padding: 25px; margin: 30 auto;"></div>

</body>
</html>
